var kr=Object.defineProperty;var vr=(h,d,g)=>d in h?kr(h,d,{enumerable:!0,configurable:!0,writable:!0,value:g}):h[d]=g;var m=(h,d,g)=>(vr(h,typeof d!="symbol"?d+"":d,g),g),Ye=(h,d,g)=>{if(!d.has(h))throw TypeError("Cannot "+g)};var b=(h,d,g)=>(Ye(h,d,"read from private field"),g?g.call(h):d.get(h)),N=(h,d,g)=>{if(d.has(h))throw TypeError("Cannot add the same private member more than once");d instanceof WeakSet?d.add(h):d.set(h,g)},C=(h,d,g,l)=>(Ye(h,d,"write to private field"),l?l.call(h,g):d.set(h,g),g);var Ht=(h,d,g)=>(Ye(h,d,"access private method"),g);import{w as re,g as A}from"./index.ChcU8woL.js";let Be,Qe,Xe,we,Lt,ye,Se,Tr=(async()=>{var Z,ee,Kt,x,$t,M,Jt,W,te,ge,Gt,Ut;let h,d,g;h="modulepreload",d=function(e,t){return new URL(e,t).href},g={},Xe=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){const s=document.getElementsByTagName("link");n=Promise.all(t.map(o=>{if(o=d(o,r),o in g)return;g[o]=!0;const u=o.endsWith(".css"),y=u?'[rel="stylesheet"]':"";if(r)for(let i=s.length-1;i>=0;i--){const c=s[i];if(c.href===o&&(!u||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${y}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":h,u||(p.as="script",p.crossOrigin=""),p.href=o,document.head.appendChild(p),u)return new Promise((i,c)=>{p.addEventListener("load",i),p.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${o}`)))})}))}return n.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var l={},Ee=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),_e=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},a=(e,t,r)=>(_e(e,t,"read from private field"),r?r.call(e):t.get(e)),f=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},k=(e,t,r,n)=>(_e(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ze=(e,t,r,n)=>({set _(s){k(e,t,s,r)},get _(){return a(e,t,n)}}),w=(e,t,r)=>(_e(e,t,"access private method"),r),Ft={default:new URL("https://db.fauna.com"),local:new URL("http://localhost:8443"),localhost:new URL("http://localhost:8443")},J=class extends Error{constructor(...e){super(...e)}},S=class extends J{constructor(t,r){super(t.error.message);m(this,"httpStatus");m(this,"code");m(this,"queryInfo");m(this,"constraint_failures");Error.captureStackTrace&&Error.captureStackTrace(this,S),this.name="ServiceError",this.code=t.error.code,this.httpStatus=r;let n={txn_ts:t.txn_ts,summary:t.summary,query_tags:t.query_tags,stats:t.stats};this.queryInfo=n,this.constraint_failures=t.error.constraint_failures}},Ze=class extends S{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,Ze),this.name="QueryRuntimeError"}},be=class extends S{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,be),this.name="QueryCheckError"}},ke=class extends S{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,ke),this.name="InvalidRequestError"}},Vt=class extends S{constructor(t,r){super(t,r);m(this,"abort");Error.captureStackTrace&&Error.captureStackTrace(this,be),this.name="AbortError",this.abort=t.error.abort}},et=class extends S{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,et),this.name="AuthenticationError"}},tt=class extends S{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,tt),this.name="AuthorizationError"}},Yt=class extends S{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,ke),this.name="ContendedTransactionError"}},ve=class extends S{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,ve),this.name="ThrottlingError"}},rt=class extends S{constructor(t,r){super(t,r);m(this,"stats");Error.captureStackTrace&&Error.captureStackTrace(this,rt),this.name="QueryTimeoutError",this.stats=t.stats}},nt=class extends S{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,nt),this.name="ServiceInternalError"}},st=class extends S{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,st),this.name="ServiceTimeoutError"}},U=class extends J{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,U),this.name="ClientError"}},Te=class extends J{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,Te),this.name="ClientClosedError"}},H=class extends J{constructor(e,t){super(e,t),Error.captureStackTrace&&Error.captureStackTrace(this,H),this.name="NetworkError"}},ne=class extends J{constructor(t){super(t.message);m(this,"httpStatus");Error.captureStackTrace&&Error.captureStackTrace(this,ne),this.name="ProtocolError",this.httpStatus=t.httpStatus}},Bt=(Kt=class{constructor({url:e,fetch_keepalive:t}){N(this,Z,void 0);N(this,ee,void 0);C(this,Z,new URL("/query/1",e).toString()),C(this,ee,t)}async request({data:e,headers:t,method:r,client_timeout_ms:n}){let s=AbortSignal.timeout===void 0?(()=>{let i=new AbortController,c=i.signal;return setTimeout(()=>i.abort(),n),c})():AbortSignal.timeout(n),o=await fetch(b(this,Z),{method:r,headers:{...t,"Content-Type":"application/json"},body:JSON.stringify(e),signal:s,keepalive:b(this,ee)}).catch(i=>{throw new H("The network connection encountered a problem.",{cause:i})}),u=o.status,y={};o.headers.forEach((i,c)=>y[c]=i);let p=await o.text();return{status:u,body:p,headers:y}}close(){}},Z=new WeakMap,ee=new WeakMap,Kt),P;try{P=Ee("node:http2")}catch{P=void 0}var L,se,oe,ae,I,E,Ae,ot,G,ie,Oe,at,xe,it,j=class{constructor({http2_session_idle_ms:e,url:t,http2_max_streams:r}){if(f(this,G),f(this,Oe),f(this,xe),f(this,se,void 0),f(this,oe,void 0),f(this,ae,void 0),f(this,I,0),f(this,E,void 0),P===void 0)throw new Error("Your platform does not support Node's http2 library");k(this,se,e),k(this,oe,r),k(this,ae,t),k(this,E,null)}static getClient(e){var t;let r=w(t=j,Ae,ot).call(t,e);a(j,L).has(r)||a(j,L).set(r,new j(e));let n=a(j,L).get(r);return ze(n,I)._++,n}async request(e){let t=0,r;do try{return await w(this,xe,it).call(this,e)}catch(n){if((n==null?void 0:n.code)!=="ERR_HTTP2_GOAWAY_SESSION")throw new H("The network connection encountered a problem.",{cause:n});r=n,t++}while(t<3);throw new H("The network connection encountered a problem.",{cause:r})}close(){this.isClosed()||(ze(this,I)._--,a(this,I)===0&&a(this,E)&&!a(this,E).closed&&a(this,E).close())}isClosed(){return a(this,I)===0}},We=j;L=new WeakMap,se=new WeakMap,oe=new WeakMap,ae=new WeakMap,I=new WeakMap,E=new WeakMap,Ae=new WeakSet,ot=function({http2_session_idle_ms:e,url:t}){return`${t}|${e}`},G=new WeakSet,ie=function(){k(this,I,0),a(this,E)&&!a(this,E).closed&&a(this,E).close()},Oe=new WeakSet,at=function(){if(!a(this,E)||a(this,E).closed||a(this,E).destroyed){let e=P.connect(a(this,ae),{peerMaxConcurrentStreams:a(this,oe)}).once("error",()=>w(this,G,ie).call(this)).once("goaway",()=>w(this,G,ie).call(this));e.setTimeout(a(this,se),()=>{w(this,G,ie).call(this)}),k(this,E,e)}return a(this,E)},xe=new WeakSet,it=function({client_timeout_ms:e,data:t,headers:r,method:n}){return new Promise((s,o)=>{let u,y=p=>{let i=Number(p[P.constants.HTTP2_HEADER_STATUS]),c="";u.on("data",R=>{c+=R}),u.on("end",()=>{s({status:i,body:c,headers:p})})};try{let p={...r,[P.constants.HTTP2_HEADER_PATH]:"/query/1",[P.constants.HTTP2_HEADER_METHOD]:n};u=w(this,Oe,at).call(this).request(p).setEncoding("utf8").on("error",i=>{o(i)}).on("response",y),u.write(JSON.stringify(t),"utf8"),u.setTimeout(e,()=>{u.destroy(new Error("Client timeout"))}),u.end()}catch(p){o(p)}})},f(We,Ae),f(We,L,new Map);let ct,ut,lt,dt,ht,ft,Re,q,pt,ce,mt,gt,wt,yt,St,F,V,Y,Ne,ue,Ce,B,K,Q,X,Et;ct=e=>lt()?We.getClient(e):new Bt(e),ut=e=>e instanceof Object&&"body"in e&&"headers"in e&&"status"in e,lt=()=>{var e;if(typeof process<"u"&&process&&((e=process.release)==null?void 0:e.name)==="node")try{return Ee("node:http2"),!0}catch{return!1}return!1},dt=/(?:\d{4}|[\u2212-]\d{4,}|\+\d{5,})/,ht=/(?:0[1-9]|1[0-2])/,ft=/(?:0[1-9]|[12]\d|3[01])/,Re=/(?:[01][0-9]|2[0-3])/,q=/(?:[0-5][0-9])/,pt=/(?:\.\d+)/,ce=new RegExp(`(${dt.source}-(${ht.source})-(${ft.source}))`),mt=new RegExp(`(${Re.source}:${q.source}:${q.source}${pt.source}?)`),gt=new RegExp(`([zZ]|[+\u2212-]${Re.source}(?::?${q.source}|:${q.source}:${q.source}))`),wt=new RegExp(`^${ce.source}$`),yt=new RegExp(`^${ce.source}`),St=new RegExp(`^${ce.source}T${mt.source}${gt.source}$`),F=class{constructor(e){m(this,"isoString");this.isoString=e}static from(e){if(typeof e!="string")throw new TypeError(`Expected string but received ${typeof e}: ${e}`);if(St.exec(e)===null)throw new RangeError(`(regex) Expected an ISO date string but received '${e}'`);return new F(e)}static fromDate(e){return new F(e.toISOString())}toDate(){let e=new Date(this.isoString);if(e.toString()==="Invalid Date")throw new RangeError("Fauna Date could not be converted to Javascript Date");return e}toString(){return`TimeStub("${this.isoString}")`}},V=class{constructor(e){m(this,"dateString");this.dateString=e}static from(e){if(typeof e!="string")throw new TypeError(`Expected string but received ${typeof e}: ${e}`);let t=wt.exec(e);if(t===null)throw new RangeError(`Expected a plain date string but received '${e}'`);return new V(t[0])}static fromDate(e){let t=e.toISOString(),r=yt.exec(t);if(r===null)throw new U(`Failed to parse date '${e}'`);return new V(r[0])}toDate(){let e=new Date(this.dateString+"T00:00:00Z");if(e.toString()==="Invalid Date")throw new RangeError("Fauna Date could not be converted to Javascript Date");return e}toString(){return`DateStub("${this.dateString}")`}},Y=class{constructor({coll:e,id:t}){m(this,"coll");m(this,"id");this.id=t,typeof e=="string"?this.coll=new B(e):this.coll=e}},Ne=class extends Y{constructor(t){let{coll:r,id:n,ts:s,...o}=t;super({coll:r,id:n});m(this,"ts");this.ts=s,Object.assign(this,o)}toObject(){return{...this}}},ue=class{constructor({coll:e,name:t}){m(this,"coll");m(this,"name");this.name=t,typeof e=="string"?this.coll=new B(e):this.coll=e}},Ce=class extends ue{constructor(t){let{coll:r,name:n,ts:s,data:o,...u}=t;super({coll:r,name:n});m(this,"ts");m(this,"data");this.ts=s,this.data=o||{},Object.assign(this,u)}toObject(){return{...this}}},B=class{constructor(e){m(this,"name");this.name=e}},Se=class{constructor(e,t){m(this,"ref");m(this,"cause");this.ref=e,this.cause=t}},K=class{constructor({data:e,after:t}){m(this,"data");m(this,"after");this.data=e,this.after=t}},Q=class{constructor(e){m(this,"after");this.after=e}},X=($t=class{constructor(e,t,r){N(this,x,void 0);if(r=r??{},t instanceof Function)C(this,x,Qt(e,t,r));else if(t instanceof K||t instanceof Q)C(this,x,_t(e,t,r));else throw new TypeError(`Expected 'Page<T> | EmbeddedSet | (() => Promise<T | Page<T> | EmbeddedSet>)', but received ${JSON.stringify(t)}`)}static fromQuery(e,t,r){return new X(e,async()=>(await e.query(t,r)).data,r)}static fromPageable(e,t,r){return new X(e,t,r)}flatten(){return new Et(this)}async next(){return b(this,x).next()}async return(){return b(this,x).return()}async throw(e){return b(this,x).throw(e)}[Symbol.asyncIterator](){return this}},x=new WeakMap,$t),Et=(Jt=class{constructor(e){N(this,M,void 0);C(this,M,Xt(e))}async next(){return b(this,M).next()}async return(){return b(this,M).return()}async throw(e){return b(this,M).throw(e)}[Symbol.asyncIterator](){return this}},M=new WeakMap,Jt);async function*_t(e,t,r){let n=t;for(n instanceof K&&(yield n.data);n.after;){let s=ye`Set.paginate(${n.after})`;n=(await e.query(s,r)).data,yield n.data}}async function*Qt(e,t,r){let n=await t();if(n instanceof K||n instanceof Q){for await(let s of _t(e,n,r))yield s;return}yield[n]}async function*Xt(e){for await(let t of e)for(let r of t)yield r}var Pe=class{static encode(e){return le(e)}static decode(e,t){return JSON.parse(e,(r,n)=>{if(n==null)return null;if(n["@mod"])return new B(n["@mod"]);if(n["@doc"]){if(typeof n["@doc"]=="string"){let[o,u]=n["@doc"].split(":");return new Y({coll:o,id:u})}let s=n["@doc"];return s.id?new Ne(s):new Ce(s)}else if(n["@ref"]){let s=n["@ref"],o;return s.id?o=new Y(s):o=new ue(s),"exists"in s&&s.exists===!1?new Se(o,s.cause):o}else{if(n["@set"])return typeof n["@set"]=="string"?new Q(n["@set"]):new K(n["@set"]);if(n["@int"])return Number(n["@int"]);if(n["@long"]){let s=BigInt(n["@long"]);return t.long_type==="number"?((s>Number.MAX_SAFE_INTEGER||s<Number.MIN_SAFE_INTEGER)&&console.warn("Value is too large to be represented as a number. Returning as Number with loss of precision. Use long_type 'bigint' instead."),Number(s)):s}else{if(n["@double"])return Number(n["@double"]);if(n["@date"])return V.from(n["@date"]);if(n["@time"])return F.from(n["@time"]);if(n["@object"])return n["@object"]}}return n})}},zt=BigInt("-9223372036854775808"),Zt=BigInt("9223372036854775807"),bt=-(2**31),kt=2**31-1,_={bigint:e=>{if(e<zt||e>Zt)throw new RangeError("BigInt value exceeds max magnitude for a 64-bit Fauna long. Use a 'number' to represent doubles beyond that limit.");return e>=bt&&e<=kt?{"@int":e.toString()}:{"@long":e.toString()}},number:e=>{if(e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)throw new RangeError(`Cannot convert ${e} to a Fauna type.`);return Number.isInteger(e)?e>=bt&&e<=kt?{"@int":e.toString()}:Number.isSafeInteger(e)?{"@long":e.toString()}:{"@double":e.toString()}:{"@double":e.toString()}},string:e=>e,object:e=>{let t=!1,r={};for(let n in e)n.startsWith("@")&&(t=!0),e[n]!==void 0&&(r[n]=le(e[n]));return t?{"@object":r}:r},array:e=>{let t=[];for(let r in e)t.push(le(e[r]));return t},date:e=>({"@time":e.toISOString()}),faunadate:e=>({"@date":e.dateString}),faunatime:e=>({"@time":e.isoString}),module:e=>({"@mod":e.name}),documentReference:e=>({"@ref":{id:e.id,coll:{"@mod":e.coll.name}}}),document:e=>({"@ref":{id:e.id,coll:{"@mod":e.coll.name}}}),namedDocumentReference:e=>({"@ref":{name:e.name,coll:{"@mod":e.coll.name}}}),namedDocument:e=>({"@ref":{name:e.name,coll:{"@mod":e.coll.name}}}),set:e=>{throw new U("Page could not be encoded. Fauna does not accept encoded Set values, yet. Use Page.data and Page.after as arguments, instead.")}},le=e=>{if(e===void 0)throw new TypeError("Passing undefined as a QueryValue is not supported");switch(typeof e){case"bigint":return _.bigint(e);case"string":return _.string(e);case"number":return _.number(e);case"boolean":return e;case"object":return e==null?null:Array.isArray(e)?_.array(e):e instanceof Date?_.date(e):e instanceof V?_.faunadate(e):e instanceof F?_.faunatime(e):e instanceof B?_.module(e):e instanceof Ne?_.document(e):e instanceof Y?_.documentReference(e):e instanceof Ce?_.namedDocument(e):e instanceof ue?_.namedDocumentReference(e):e instanceof Se?le(e.ref):e instanceof K||e instanceof Q?_.set(e):_.object(e)}};ye=function(e,...t){return new Ie(e,...t)};var Ie=(Ut=class{constructor(e,...t){N(this,ge);N(this,W,void 0);N(this,te,void 0);if(e.length===0||e.length!==t.length+1)throw new Error("invalid query constructed");C(this,W,e),C(this,te,t)}toQuery(e={}){return{...Ht(this,ge,Gt).call(this,e),...e}}},W=new WeakMap,te=new WeakMap,ge=new WeakSet,Gt=function(e){if(b(this,W).length===1)return{query:{fql:[b(this,W)[0]]},arguments:{}};let t={};return{query:{fql:b(this,W).flatMap((r,n)=>{if(n===b(this,W).length-1)return r===""?[]:[r];let s=b(this,te)[n],o;if(s instanceof Ie){let u=s.toQuery(e);o=u.query,t={...t,...u.arguments}}else o={value:Pe.encode(s)};return[r,o].filter(u=>u!=="")})},arguments:t}},Ut),er="1.3.1",de;try{de=Ee("node:os")}catch{de=void 0}var tr=()=>{let e={driver:["javascript",er].join("-"),env:"unknown",os:"unknown",runtime:"unknown"};try{let t=typeof window>"u"&&typeof process<"u"&&process.versions!=null&&process.versions.node!=null,r=typeof window<"u"&&typeof window.document<"u",n=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope";t?(e.runtime=["nodejs",process.version].join("-"),e.env=rr(),e.os=[de.platform(),de.release()].join("-")):n?(e.runtime=vt(navigator),e.env="Service Worker",e.os=Tt(navigator)):r?(e.runtime=vt(navigator),e.env="browser",e.os=Tt(navigator)):typeof EdgeRuntime!="string"&&(e.runtime="Vercel Edge Runtime",e.env="edge")}catch{}return Object.entries(e).filter(([t,r])=>r!=="unknown").map(t=>t.join("=")).join("; ")},vt=e=>{let t=e.appName,r=""+parseFloat(e.appVersion),n,s,o;return(s=e.userAgent.indexOf("Opera"))!=-1?(t="Opera",r=e.userAgent.substring(s+6),(s=e.userAgent.indexOf("Version"))!=-1&&(r=e.userAgent.substring(s+8))):(s=e.userAgent.indexOf("MSIE"))!=-1?(t="Microsoft Internet Explorer",r=e.userAgent.substring(s+5)):t=="Netscape"&&e.userAgent.indexOf("Trident/")!=-1?(t="Microsoft Internet Explorer",r=e.userAgent.substring(s+5),(s=e.userAgent.indexOf("rv:"))!=-1&&(r=e.userAgent.substring(s+3))):(s=e.userAgent.indexOf("Chrome"))!=-1?(t="Chrome",r=e.userAgent.substring(s+7)):(s=e.userAgent.indexOf("Safari"))!=-1?(t="Safari",r=e.userAgent.substring(s+7),(s=e.userAgent.indexOf("Version"))!=-1&&(r=e.userAgent.substring(s+8)),e.userAgent.indexOf("CriOS")!=-1&&(t="Chrome")):(s=e.userAgent.indexOf("Firefox"))!=-1?(t="Firefox",r=e.userAgent.substring(s+8)):(n=e.userAgent.lastIndexOf(" ")+1)<(s=e.userAgent.lastIndexOf("/"))&&(t=e.userAgent.substring(n,s),r=e.userAgent.substring(s+1),t.toLowerCase()==t.toUpperCase()&&(t=e.appName)),(o=r.indexOf(";"))!=-1&&(r=r.substring(0,o)),(o=r.indexOf(" "))!=-1&&(r=r.substring(0,o)),(o=r.indexOf(")"))!=-1&&(r=r.substring(0,o)),[t,r].join("-")},Tt=e=>{let t="unknown",r=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Chrome OS",r:/CrOS/},{s:"Linux",r:/(Linux|X11(?!.*CrOS))/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(Mac OS|MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(let s in r){let o=r[s];if(o.r.test(e.userAgent)){t=o.s;break}}let n="unknown";if(/Windows/.test(t)){let s=/Windows (.*)/.exec(t);s&&(n=s[1]),t="Windows"}switch(t){case"Mac OS":case"Mac OS X":case"Android":{let s=/(?:Android|Mac OS|Mac OS X|MacPPC|MacIntel|Mac_PowerPC|Macintosh) ([._\d]+)/.exec(e.userAgent);s&&(n=s[1]);break}case"iOS":{let s=/OS (\d+)_(\d+)_?(\d+)?/.exec(e.appVersion);s&&(n=s[1]+"."+s[2]+"."+(s[3]??0));break}}return[t,n].join("-")},De=typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,rr=()=>{if(!(typeof process<"u"&&process&&l&&typeof l=="object"))return"unknown";let e=[{name:"Netlify",check:function(){return!!l.NETLIFY_IMAGES_CDN_DOMAIN}},{name:"Vercel",check:function(){return!!l.VERCEL}},{name:"Heroku",check:function(){return!!l.PATH&&l.PATH.indexOf(".heroku")!==-1}},{name:"AWS Lambda",check:function(){return!!l.AWS_LAMBDA_FUNCTION_VERSION}},{name:"GCP Cloud Functions",check:function(){return!!l._&&l._.indexOf("google")!==-1}},{name:"GCP Compute Instances",check:function(){return!!l.GOOGLE_CLOUD_PROJECT}},{name:"Azure Cloud Functions",check:function(){return!!l.WEBSITE_FUNCTIONS_AZUREMONITOR_CATEGORIES}},{name:"Azure Compute",check:function(){return!!l.ORYX_ENV_TYPE&&!!l.WEBSITE_INSTANCE_ID&&l.ORYX_ENV_TYPE==="AppService"}},{name:"Mongo Stitch",check:function(){return typeof(De==null?void 0:De.StitchError)=="function"}},{name:"Render",check:function(){return!!l.RENDER_SERVICE_ID}},{name:"Begin",check:function(){return!!l.BEGIN_DATA_SCOPE_ID}}].find(t=>t.check());return e?e.name:"unknown"},nr=e=>e instanceof Object&&"data"in e,sr=e=>e instanceof Object&&"error"in e&&e.error instanceof Object&&"code"in e.error&&"message"in e.error,Me={client_timeout_buffer_ms:5e3,format:"tagged",http2_session_idle_ms:5e3,http2_max_streams:100,long_type:"number",fetch_keepalive:!1,query_timeout_ms:5e3,max_attempts:3,max_backoff:20},je,T,$,v,z,he,qe,fe,Ke,$e,At,Je,Ot,Ue,xt,He,Wt,Le,Rt,Ge,Nt,Ct=class{constructor(e,t){f(this,he),f(this,fe),f(this,$e),f(this,Je),f(this,Ue),f(this,He),f(this,Le),f(this,Ge),f(this,T,void 0),f(this,$,void 0),f(this,v,void 0),f(this,z,!1),k(this,T,{...Me,...e,secret:w(this,$e,At).call(this,e),endpoint:w(this,Je,Ot).call(this,e)}),w(this,Ge,Nt).call(this),t?k(this,$,t):k(this,$,ct({url:a(this,T).endpoint.toString(),http2_session_idle_ms:a(this,T).http2_session_idle_ms,http2_max_streams:a(this,T).http2_max_streams,fetch_keepalive:a(this,T).fetch_keepalive}))}get lastTxnTs(){return a(this,v)}set lastTxnTs(e){e!==void 0&&k(this,v,a(this,v)?Math.max(e,a(this,v)):e)}get clientConfiguration(){let{...e}=a(this,T);return e}close(){if(a(this,z))throw new Te("Your client is closed. You cannot close it again.");a(this,$).close(),k(this,z,!0)}paginate(e,t){return e instanceof Ie?X.fromQuery(this,e,t):X.fromPageable(this,e,t)}async query(e,t){if(a(this,z))throw new Te("Your client is closed. No further requests can be issued.");let r=e.toQuery(t).query;return w(this,he,qe).call(this,r,t)}},Pt=Ct;je=new WeakMap,T=new WeakMap,$=new WeakMap,v=new WeakMap,z=new WeakMap,he=new WeakSet,qe=async function(e,t,r=0){let n=this.clientConfiguration.max_backoff??Me.max_backoff,s=this.clientConfiguration.max_attempts??Me.max_attempts,o=Math.min(Math.random()*2**r,n)*1e3,u=y=>new Promise(p=>setTimeout(p,y));return r+=1,w(this,He,Wt).call(this,e,t,r).catch(y=>{if(y instanceof ve&&r<s)return u(o).then(()=>w(this,he,qe).call(this,e,t,r));throw y})},fe=new WeakSet,Ke=function(e){if(e instanceof U||e instanceof H||e instanceof ne||e instanceof S)return e;if(ut(e)){if(sr(e.body)){let t=e.body,r=e.status;return w(this,Ue,xt).call(this,t,r)}return new ne({message:`Response is in an unkown format: ${e.body}`,httpStatus:e.status})}return new U("A client level error occurred. Fauna was not called.",{cause:e})},$e=new WeakSet,At=function(e){let t;typeof process<"u"&&process&&typeof process=="object"&&l&&typeof l=="object"&&(t=l.FAUNA_SECRET);let r=(e==null?void 0:e.secret)??t;if(r===void 0)throw new TypeError("You must provide a secret to the driver. Set it in an environmental variable named FAUNA_SECRET or pass it to the Client constructor.");return r},Je=new WeakSet,Ot=function(e){if(e&&"endpoint"in e&&e.endpoint===void 0)throw new TypeError("ClientConfiguration option endpoint must be defined.");let t;return typeof process<"u"&&process&&typeof process=="object"&&l&&typeof l=="object"&&(t=l.FAUNA_ENDPOINT?new URL(l.FAUNA_ENDPOINT):void 0),(e==null?void 0:e.endpoint)??t??Ft.default},Ue=new WeakSet,xt=function(e,t){switch(t){case 400:return or.includes(e.error.code)?new be(e,t):e.error.code==="invalid_request"?new ke(e,t):e.error.code==="abort"&&e.error.abort!==void 0?new Vt(e,t):new Ze(e,t);case 401:return new et(e,t);case 403:return new tt(e,t);case 409:return new Yt(e,t);case 429:return new ve(e,t);case 440:return new rt(e,t);case 500:return new nt(e,t);case 503:return new st(e,t);default:return new S(e,t)}},He=new WeakSet,Wt=async function(e,t,r=0){try{let n={...a(this,T),...t},s={Authorization:`Bearer ${n.secret}`};w(this,Le,Rt).call(this,n,s);let o=n.format==="tagged",u=n.arguments?o?Pe.encode(n.arguments):n.arguments:void 0,y={query:e,arguments:u},p=n.query_timeout_ms+a(this,T).client_timeout_buffer_ms,i=await a(this,$).request({client_timeout_ms:p,data:y,headers:s,method:"POST"}),c;try{if(c={...i,body:o?Pe.decode(i.body,{long_type:n.long_type}):JSON.parse(i.body)},c.body.query_tags){let Ve=c.body.query_tags.split(",").map(br=>br.split("="));c.body.query_tags=Object.fromEntries(Ve)}}catch(Ve){throw new ne({message:`Error parsing response as JSON: ${Ve}`,httpStatus:i.status})}if(!nr(c.body))throw w(this,fe,Ke).call(this,c);let R=c.body.txn_ts;(a(this,v)===void 0&&R!==void 0||R!==void 0&&a(this,v)!==void 0&&a(this,v)<R)&&k(this,v,R);let Fe=c.body;return Fe.stats&&(Fe.stats.attempts=r),Fe}catch(n){throw w(this,fe,Ke).call(this,n)}},Le=new WeakSet,Rt=function(e,t){for(let r of Object.entries(e))if(["format","query_timeout_ms","linearized","max_contention_retries","traceparent","typecheck","query_tags"].includes(r[0])){let n,s=`x-${r[0].replaceAll("_","-")}`;r[0]==="query_tags"?n=Object.entries(r[1]).map(o=>o.join("=")).join(","):typeof r[1]=="string"?n=r[1]:n=String(r[1]),r[0]==="traceparent"&&(s=r[0]),t[s]=n}t["x-last-txn-ts"]===void 0&&a(this,v)!==void 0&&(t["x-last-txn-ts"]=a(this,v)),t["x-driver-env"]=a(Ct,je)},Ge=new WeakSet,Nt=function(){let e=a(this,T);if(["client_timeout_buffer_ms","endpoint","format","http2_session_idle_ms","long_type","query_timeout_ms","fetch_keepalive","http2_max_streams"].forEach(t=>{if(e[t]===void 0)throw new TypeError(`ClientConfiguration option '${t}' must be defined.`)}),e.http2_max_streams<=0)throw new RangeError("'http2_max_streams' must be greater than zero.");if(e.client_timeout_buffer_ms<=0)throw new RangeError("'client_timeout_buffer_ms' must be greater than zero.");if(e.query_timeout_ms<=0)throw new RangeError("'query_timeout_ms' must be greater than zero.")},f(Pt,je,tr());var or=["invalid_function_definition","invalid_identifier","invalid_query","invalid_syntax","invalid_type"];const ar=crypto;new TextEncoder;const ir=new TextDecoder,cr=e=>{const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r},ur=e=>{let t=e;t instanceof Uint8Array&&(t=ir.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return cr(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class pe extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var r;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}class D extends pe{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class It extends pe{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class lr extends pe{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class dr extends pe{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}function hr(e){return typeof e=="object"&&e!==null}function Dt(e){if(!hr(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function fr(e){let t,r;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new D('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new D('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new D('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new D('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}const pr=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:r}=fr(e),n=[t,e.ext??!1,e.key_ops??r],s={...e};return delete s.alg,delete s.use,ar.subtle.importKey("jwk",s,...n)};async function mr(e,t){if(!Dt(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return ur(e.k);case"RSA":if(e.oth!==void 0)throw new D('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return pr({...e,alg:t});default:throw new D('Unsupported "kty" (Key Type) Parameter value')}}function gr(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new D('Unsupported "alg" value for a JSON Web Key Set')}}function wr(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(yr)}function yr(e){return Dt(e)}function Sr(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}class Er{constructor(t){if(this._cached=new WeakMap,!wr(t))throw new It("JSON Web Key Set malformed");this._jwks=Sr(t)}async getKey(t,r){const{alg:n,kid:s}={...t,...r==null?void 0:r.header},o=gr(n),u=this._jwks.keys.filter(i=>{let c=o===i.kty;if(c&&typeof s=="string"&&(c=s===i.kid),c&&typeof i.alg=="string"&&(c=n===i.alg),c&&typeof i.use=="string"&&(c=i.use==="sig"),c&&Array.isArray(i.key_ops)&&(c=i.key_ops.includes("verify")),c&&n==="EdDSA"&&(c=i.crv==="Ed25519"||i.crv==="Ed448"),c)switch(n){case"ES256":c=i.crv==="P-256";break;case"ES256K":c=i.crv==="secp256k1";break;case"ES384":c=i.crv==="P-384";break;case"ES512":c=i.crv==="P-521";break}return c}),{0:y,length:p}=u;if(p===0)throw new lr;if(p!==1){const i=new dr,{_cached:c}=this;throw i[Symbol.asyncIterator]=async function*(){for(const R of u)try{yield await Mt(c,R,n)}catch{}},i}return Mt(this._cached,y,n)}}async function Mt(e,t,r){const n=e.get(t)||e.set(t,{}).get(t);if(n[r]===void 0){const s=await mr({...t,ext:!0},r);if(s instanceof Uint8Array||s.type!=="public")throw new It("JSON Web Key Set members must be public keys");n[r]=s}return n[r]}function _r(e){const t=new Er(e);return async(r,n)=>t.getKey(r,n)}_r({keys:[{alg:"RS256",e:"AQAB",kid:"pki-6009621403329666133",kty:"RSA",n:"r8MTlck5bV0vhy8vjIU8vZLPMtt-gYZy125nal-dzVE-Fm_cWVqsEh-4Lej1YoB24Gep8DUwhR8oNCX26N63wLL9VIke8xUCK05VooBg8UzWYyM3-RKi7mfk1xJREgoKSJJcJRVmQL5aLxQjRibtkQHiGbohX4J8GewDLkt17ebcWXdJcfEHf9vZxupOxjM3tr87WqS7uzSvgY4WtLcE12LnIuRdN25SOgx49yWADGYv1IvD9eHj_GlQDQj_xYHqaeJpA1euTXfWO99QDrCe09cpNCY3wJgiURvTxpOyhtDQGGfKmk8xIWdTWB9pl1sM2NhNxHxe9bTpHHLHeeGMQQ",use:"sig"}]});let jt;Qe="pro-1694494494712887582",jt=re({session:!1});let me,O;me=re(),Be=re(),we=re(),O=re(),we.subscribe(e=>{console.log("faunaReady value updated:",e)});let qt;Lt=async()=>{if(A(me))return console.log(A(me)),A(me);{let e=await Xe(()=>import("./index.BLfiLb_f.js"),__vite__mapDeps([0,1]),import.meta.url);return O.set(e.default),await A(O).load({projectId:Qe}),A(O).isAuthenticated&&(jt.set({email:A(O).user.email,name:A(O).user.name,session:!0}),qt(A(O).shortSession).then(t=>{t.query(ye`createOrGetUser()`)})),A(O)}},qt=async e=>{const t=new Pt({secret:e});return Be.set(t),we.set(!0),t}})();export{Be as F,Qe as P,Xe as _,Tr as __tla,we as f,Lt as i,ye as q,Se as t};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index.BLfiLb_f.js","./_commonjsHelpers.Cpj98o6Y.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
